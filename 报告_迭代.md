# 实验迭代总结（3 组对比）

## R1  (https://wandb.ai/kjust-pinduoduo/lerobot/runs/hjjyla8j)
- 训练总损失: 首=15.13, 末=0.7733, 最优=0.7733@2000, Δ=-14.35 (-94.89%)
- 训练L1: 首=0.5182, 末=0.165, 最优=0.1222@1700, Δ=-0.3532 (-68.16%)
- 离线评估L1: 首=0.6586, 末=0.3362, 最优=0.3264@1750, Δ=-0.3224 (-48.95%)
- OT损失: 首=0.1316, 末=0.001629, 最优=1.346e-05@1900, Δ=-0.13 (-98.76%)
- π总和: 首=0.1291, 末=0.0001379, 最优=7.009e-07@1900, Δ=-0.1289 (-99.89%)
- π对角和: 首=0.1291, 末=0.0001379, 最优=7.009e-07@1900, Δ=-0.1289 (-99.89%)
- OT cost(state): 首=1246, 末=1229, 最优=547@550, Δ=-17.63 (-1.41%)

## R2  (https://wandb.ai/kjust-pinduoduo/lerobot/runs/k581uwkg)
- 训练总损失: 首=15.17, 末=0.9849, 最优=0.9849@1650, Δ=-14.18 (-93.51%)
- 训练L1: 首=0.5182, 末=0.1641, 最优=0.1479@1400, Δ=-0.3541 (-68.33%)
- 离线评估L1: 首=0.658, 末=0.3354, 最优=0.3329@1550, Δ=-0.3226 (-49.03%)
- OT损失: 首=0.2433, 末=0.03708, 最优=0.001552@1450, Δ=-0.2062 (-84.76%)
- π总和: 首=0.2032, 末=0.005763, 最优=9.015e-05@1450, Δ=-0.1975 (-97.16%)
- π对角和: 首=0.2032, 末=0.005763, 最优=9.015e-05@1450, Δ=-0.1975 (-97.16%)
- OT cost(state): 首=1328, 末=1056, 最优=759.3@1000, Δ=-271.9 (-20.48%)

## R3  (https://wandb.ai/kjust-pinduoduo/lerobot/runs/rei1jp0b)
- 训练总损失: 首=15.13, 末=0.8838, 最优=0.8838@1800, Δ=-14.24 (-94.16%)
- 训练L1: 首=0.5182, 末=0.1807, 最优=0.1229@1700, Δ=-0.3375 (-65.13%)
- 离线评估L1: 首=0.6584, 末=0.3259, 最优=0.3259@1750, Δ=-0.3325 (-50.50%)
- OT损失: 首=0.1316, 末=0.06512, 最优=0.0001023@1300, Δ=-0.0665 (-50.52%)
- π总和: 首=0.1291, 末=0.01636, 最优=6.929e-06@1300, Δ=-0.1127 (-87.32%)
- π对角和: 首=0.1291, 末=0.01636, 最优=6.929e-06@1300, Δ=-0.1127 (-87.32%)
- OT cost(state): 首=1246, 末=1245, 最优=547@550, Δ=-0.694 (-0.06%)

## 对比要点与结论
- 三组均收敛（BC）正常；差异主要在 OT 分支的 π 质量与 cost 降幅上。
- R1: π_sum末=0.0001379，state cost末=1229
- R2: π_sum末=0.005763，state cost末=1056
- R3: π_sum末=0.01636，state cost末=1245
- 若 π_sum 很小（<1e-3），说明 reg/tau 仍偏小或 label 权重偏大；若 π_sum 较大但 OT cost 不降或反升，说明 M 量纲或损失权重仍需调整。

## 下一步建议（按优先级）
- 放宽 OT 正则与边缘松弛：reg ∈ {1.5, 2.0}, tau_src=tau_tgt ∈ {5, 10}；保持 heuristic=true。
- 下调 label 权重：weight_label ∈ {0.001, 0.0005, 0.0}；优先尝试 0.0005，或做 embedOnly 对照确认量纲影响。
- 维持窗口抖动：window_size ∈ {20, 30, 40}（只抖动 src），增强对轻微时序误差的鲁棒性。
- 当 π_sum≥0.3 且稳定后，再把 lambda_ot 从 0.1 提至 0.2，放大 OT 贡献。